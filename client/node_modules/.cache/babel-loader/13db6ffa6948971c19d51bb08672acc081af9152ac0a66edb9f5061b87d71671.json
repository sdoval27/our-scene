{"ast":null,"code":"var _jsxFileName = \"D:\\\\bootcamp\\\\our-scene\\\\client\\\\src\\\\components\\\\sForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Form, Container, Button, Alert } from 'react-bootstrap';\nimport { useMutation } from '@apollo/client';\nimport { ADD_USER } from '../utils/mutations';\nimport Auth from '../utils/auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst sForm = () => {\n  _s();\n  // set initial form state\n  const [userFormData, setUserFormData] = useState({\n    username: '',\n    email: '',\n    password: ''\n  });\n  // set state for form validation\n  const [validated] = useState(false);\n  // set state for alert\n  const [showAlert, setShowAlert] = useState(false);\n  const [addUser, {\n    error\n  }] = useMutation(ADD_USER);\n  useEffect(() => {\n    if (error) {\n      setShowAlert(true);\n    } else {\n      setShowAlert(false);\n    }\n  }, [error]);\n  const handleInputChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setUserFormData({\n      ...userFormData,\n      [name]: value\n    });\n  };\n  const handleFormSubmit = async event => {\n    event.preventDefault();\n\n    // check if form has everything (as per react-bootstrap docs)\n    const form = event.currentTarget;\n    if (form.checkValidity() === false) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n    try {\n      console.log({\n        ...userFormData\n      });\n      const {\n        data\n      } = await addUser({\n        variables: {\n          ...userFormData\n        }\n      });\n      console.log(data);\n      Auth.login(data.createUser.token);\n    } catch (err) {\n      console.error(err);\n    }\n    setUserFormData({\n      username: '',\n      email: '',\n      password: ''\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n      className: \"mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n        htmlFor: \"username\",\n        children: \"Username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        type: \"text\",\n        placeholder: \"Your username\",\n        name: \"username\",\n        onChange: handleInputChange,\n        value: userFormData.username,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n        type: \"invalid\",\n        children: \"Username is required!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n      className: \"mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n        htmlFor: \"email\",\n        children: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        type: \"email\",\n        placeholder: \"Your email address\",\n        name: \"email\",\n        onChange: handleInputChange,\n        value: userFormData.email,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n        type: \"invalid\",\n        children: \"Email is required!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n      className: \"mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n        htmlFor: \"password\",\n        children: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        type: \"password\",\n        placeholder: \"Your password\",\n        name: \"password\",\n        onChange: handleInputChange,\n        value: userFormData.password,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n        type: \"invalid\",\n        children: \"Password is required!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      disabled: !(userFormData.username && userFormData.email && userFormData.password),\n      type: \"submit\",\n      variant: \"success\",\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n_s(sForm, \"rLco/fdgcBpJCFdoNgEDAuLqdaA=\", false, function () {\n  return [useMutation];\n});\nexport default sForm;","map":{"version":3,"names":["React","useState","useEffect","Form","Container","Button","Alert","useMutation","ADD_USER","Auth","jsxDEV","_jsxDEV","sForm","_s","userFormData","setUserFormData","username","email","password","validated","showAlert","setShowAlert","addUser","error","handleInputChange","event","name","value","target","handleFormSubmit","preventDefault","form","currentTarget","checkValidity","stopPropagation","console","log","data","variables","login","createUser","token","err","children","Group","className","Label","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","Control","type","placeholder","onChange","required","Feedback","disabled","variant"],"sources":["D:/bootcamp/our-scene/client/src/components/sForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Form, Container, Button, Alert } from 'react-bootstrap';\r\n\r\nimport { useMutation } from '@apollo/client';\r\nimport { ADD_USER } from '../utils/mutations';\r\nimport Auth from '../utils/auth';\r\n\r\nconst sForm = () => {\r\n  // set initial form state\r\n  const [userFormData, setUserFormData] = useState({ username: '', email: '', password: '' });\r\n  // set state for form validation\r\n  const [validated] = useState(false);\r\n  // set state for alert\r\n  const [showAlert, setShowAlert] = useState(false);\r\n\r\n  const [addUser, { error }] = useMutation(ADD_USER);\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      setShowAlert(true);\r\n    } else {\r\n      setShowAlert(false);\r\n    }\r\n  }, [error]);\r\n\r\n  const handleInputChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setUserFormData({ ...userFormData, [name]: value });\r\n  };\r\n\r\n  const handleFormSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    // check if form has everything (as per react-bootstrap docs)\r\n    const form = event.currentTarget;\r\n    if (form.checkValidity() === false) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n    }\r\n\r\n    try {\r\n      console.log({ ...userFormData })\r\n      const { data } = await addUser({\r\n        variables: { ...userFormData },\r\n      });\r\n\r\n      console.log(data);\r\n      Auth.login(data.createUser.token);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n\r\n    setUserFormData({\r\n      username: '',\r\n      email: '',\r\n      password: '',\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Form.Group className='mb-3'>\r\n        <Form.Label htmlFor='username'>Username</Form.Label>\r\n        <Form.Control\r\n          type='text'\r\n          placeholder='Your username'\r\n          name='username'\r\n          onChange={handleInputChange}\r\n          value={userFormData.username}\r\n          required\r\n        />\r\n        <Form.Control.Feedback type='invalid'>Username is required!</Form.Control.Feedback>\r\n      </Form.Group>\r\n\r\n      <Form.Group className='mb-3'>\r\n        <Form.Label htmlFor='email'>Email</Form.Label>\r\n        <Form.Control\r\n          type='email'\r\n          placeholder='Your email address'\r\n          name='email'\r\n          onChange={handleInputChange}\r\n          value={userFormData.email}\r\n          required\r\n        />\r\n        <Form.Control.Feedback type='invalid'>Email is required!</Form.Control.Feedback>\r\n      </Form.Group>\r\n\r\n      <Form.Group className='mb-3'>\r\n        <Form.Label htmlFor='password'>Password</Form.Label>\r\n        <Form.Control\r\n          type='password'\r\n          placeholder='Your password'\r\n          name='password'\r\n          onChange={handleInputChange}\r\n          value={userFormData.password}\r\n          required\r\n        />\r\n        <Form.Control.Feedback type='invalid'>Password is required!</Form.Control.Feedback>\r\n      </Form.Group>\r\n      <Button\r\n        disabled={!(userFormData.username && userFormData.email && userFormData.password)}\r\n        type='submit'\r\n        variant='success'>\r\n        Submit\r\n      </Button>\r\n    </Container >\r\n    )\r\n  }\r\n\r\n\r\nexport default sForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}